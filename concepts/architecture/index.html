
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="End-to-end testing suite for LLM inference engines">
      
      
      
        <link rel="canonical" href="https://kirizan.github.io/kitt/concepts/architecture/">
      
      
        <link rel="prev" href="../">
      
      
        <link rel="next" href="../hardware-fingerprinting/">
      
      
        
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Architecture - KITT Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="KITT Documentation" class="md-header__button md-logo" aria-label="KITT Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            KITT Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Architecture
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/kirizan/kitt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    kirizan/kitt
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/" class="md-tabs__link">
          
  
  
    
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../reference/" class="md-tabs__link">
          
  
  
    
  
  Reference

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
    
  
  Concepts

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../changelog/" class="md-tabs__link">
        
  
  
    
  
  Changelog

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="KITT Documentation" class="md-nav__button md-logo" aria-label="KITT Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    KITT Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/kirizan/kitt" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    kirizan/kitt
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../getting-started/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/first-benchmark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: First Benchmark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/docker-quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tutorial: Docker Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../guides/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Guides
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/engines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmarks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Results & Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/campaigns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campaigns
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/deployment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Deployment
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/web-dashboard/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Web Dashboard
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/monitoring/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Daemon
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/remote-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remote Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/ci-integration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CI Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/bots/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Bot Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/charts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Charts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/dgx-spark/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DGX Spark
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/cli/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    CLI Reference
  

    
  </span>
  
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    CLI Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../reference/configuration/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/configuration/suites/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Suite YAML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/configuration/engines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engine YAML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/configuration/campaigns/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Campaign YAML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/configuration/benchmarks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmark YAML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Schema
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/docker-files/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Docker Files
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    REST API
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/environment/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Environment Variables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Concepts
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Concepts
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#high-level-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#engine-plugin-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Engine Plugin System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Engine Plugin System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inferenceengine-abc" class="md-nav__link">
    <span class="md-ellipsis">
      
        InferenceEngine ABC
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#engineregistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        EngineRegistry
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Auto-Discovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-engines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Built-in Engines
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-docker-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        No Docker SDK
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-naming" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container Naming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        GPU Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sibling-container-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sibling Container Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remote-agent-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Agent Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remote Agent Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent-installation-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent installation flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-command-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent command protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standalone-agent-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standalone agent package
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Project Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Design Decisions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Web Dashboard
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devon-tab" class="md-nav__link">
    <span class="md-ellipsis">
      
        Devon Tab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings Persistence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relationship-to-devon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relationship to DEVON
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../hardware-fingerprinting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardware Fingerprinting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../karr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Results Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../engine-lifecycle/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Engine Lifecycle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../benchmark-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Benchmark System
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security & mTLS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../changelog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changelog
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#high-level-overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        High-Level Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#engine-plugin-system" class="md-nav__link">
    <span class="md-ellipsis">
      
        Engine Plugin System
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Engine Plugin System">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inferenceengine-abc" class="md-nav__link">
    <span class="md-ellipsis">
      
        InferenceEngine ABC
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#engineregistry" class="md-nav__link">
    <span class="md-ellipsis">
      
        EngineRegistry
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#auto-discovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Auto-Discovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-engines" class="md-nav__link">
    <span class="md-ellipsis">
      
        Built-in Engines
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker-management" class="md-nav__link">
    <span class="md-ellipsis">
      
        Docker Management
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Docker Management">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#no-docker-sdk" class="md-nav__link">
    <span class="md-ellipsis">
      
        No Docker SDK
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#container-naming" class="md-nav__link">
    <span class="md-ellipsis">
      
        Container Naming
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network-mode" class="md-nav__link">
    <span class="md-ellipsis">
      
        Network Mode
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gpu-access" class="md-nav__link">
    <span class="md-ellipsis">
      
        GPU Access
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sibling-container-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        Sibling Container Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remote-agent-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Remote Agent Architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Remote Agent Architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agent-installation-flow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent installation flow
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-command-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent command protocol
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standalone-agent-package" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standalone agent package
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Project Structure
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Project Structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key-design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Key Design Decisions
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#web-dashboard" class="md-nav__link">
    <span class="md-ellipsis">
      
        Web Dashboard
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Web Dashboard">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#devon-tab" class="md-nav__link">
    <span class="md-ellipsis">
      
        Devon Tab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-persistence" class="md-nav__link">
    <span class="md-ellipsis">
      
        Settings Persistence
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#relationship-to-devon" class="md-nav__link">
    <span class="md-ellipsis">
      
        Relationship to DEVON
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h1>
<p>KITT is built around a plugin architecture for inference engines and benchmarks, with Docker containers as the execution environment for all engines. This page describes the major components and how they fit together.</p>
<h2 id="high-level-overview">High-Level Overview<a class="headerlink" href="#high-level-overview" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>Host (KITT CLI)                         Docker Container
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>+-------------------+                  +------------------+
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>| kitt run           |   HTTP/JSON      | Engine Server    |
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>|   engine.generate()| &lt;==============&gt; |   API endpoint   |
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>|   GPUMemoryTracker |  localhost:PORT  |   /health        |
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>+-------------------+                  |   --gpus all     |
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>                                       |   /models (mount)|
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>                                       +------------------+
</code></pre></div>
<p>KITT runs on the host (or in its own container) and manages inference engine containers via the Docker CLI. All communication between KITT and engine containers happens over HTTP on localhost, using each engine's native API.</p>
<h2 id="engine-plugin-system">Engine Plugin System<a class="headerlink" href="#engine-plugin-system" title="Permanent link">&para;</a></h2>
<p>The engine system is built on three components:</p>
<h3 id="inferenceengine-abc">InferenceEngine ABC<a class="headerlink" href="#inferenceengine-abc" title="Permanent link">&para;</a></h3>
<p>The abstract base class in <code>engines/base.py</code> defines the contract every engine must fulfill:</p>
<ul>
<li><strong><code>initialize()</code></strong> -- Pull the Docker image, create and start the container, wait for the health check to pass.</li>
<li><strong><code>generate(prompt, **kwargs)</code></strong> -- Send a generation request to the running engine via its HTTP API and return the result.</li>
<li><strong><code>cleanup()</code></strong> -- Stop and remove the Docker container.</li>
</ul>
<h3 id="engineregistry">EngineRegistry<a class="headerlink" href="#engineregistry" title="Permanent link">&para;</a></h3>
<p>The registry in <code>engines/registry.py</code> maintains a mapping of engine names to their implementation classes. Engines register themselves using the <code>@register_engine</code> decorator:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="nd">@register_engine</span><span class="p">(</span><span class="s2">&quot;vllm&quot;</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">VLLMEngine</span><span class="p">(</span><span class="n">InferenceEngine</span><span class="p">):</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>    <span class="o">...</span>
</code></pre></div>
<h3 id="auto-discovery">Auto-Discovery<a class="headerlink" href="#auto-discovery" title="Permanent link">&para;</a></h3>
<p><code>EngineRegistry.auto_discover()</code> imports all built-in engine modules from the <code>engines/</code> package. This is called at startup so that all engines are available without manual imports.</p>
<h3 id="built-in-engines">Built-in Engines<a class="headerlink" href="#built-in-engines" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Engine</th>
<th>Docker Image</th>
<th>API Style</th>
<th>Default Port</th>
</tr>
</thead>
<tbody>
<tr>
<td>vLLM</td>
<td><code>vllm/vllm-openai:latest</code></td>
<td>OpenAI <code>/v1/completions</code></td>
<td>8000</td>
</tr>
<tr>
<td>TGI</td>
<td><code>ghcr.io/huggingface/text-generation-inference:latest</code></td>
<td>HF <code>/generate</code></td>
<td>8080</td>
</tr>
<tr>
<td>llama.cpp</td>
<td><code>ghcr.io/ggerganov/llama.cpp:server</code></td>
<td>OpenAI <code>/v1/completions</code></td>
<td>8081</td>
</tr>
<tr>
<td>Ollama</td>
<td><code>ollama/ollama:latest</code></td>
<td>Ollama <code>/api/generate</code></td>
<td>11434</td>
</tr>
</tbody>
</table>
<h2 id="docker-management">Docker Management<a class="headerlink" href="#docker-management" title="Permanent link">&para;</a></h2>
<h3 id="no-docker-sdk">No Docker SDK<a class="headerlink" href="#no-docker-sdk" title="Permanent link">&para;</a></h3>
<p>KITT deliberately avoids the Docker Python SDK. Instead, <code>DockerManager</code> in <code>engines/docker_manager.py</code> provides static methods that call the <code>docker</code> CLI via <code>subprocess</code>. This keeps the dependency footprint small and avoids version-pinning issues with the SDK.</p>
<h3 id="container-naming">Container Naming<a class="headerlink" href="#container-naming" title="Permanent link">&para;</a></h3>
<p>Containers are named <code>kitt-{timestamp}</code> to allow multiple concurrent runs without conflicts.</p>
<h3 id="network-mode">Network Mode<a class="headerlink" href="#network-mode" title="Permanent link">&para;</a></h3>
<p>All engine containers use <code>--network host</code> so the engine server binds directly to localhost on the host. This avoids Docker's port-mapping overhead and simplifies connectivity.</p>
<h3 id="gpu-access">GPU Access<a class="headerlink" href="#gpu-access" title="Permanent link">&para;</a></h3>
<p>Engine containers are started with <code>--gpus all</code> to expose all host GPUs to the inference server.</p>
<h3 id="sibling-container-pattern">Sibling Container Pattern<a class="headerlink" href="#sibling-container-pattern" title="Permanent link">&para;</a></h3>
<p>KITT can itself run inside a Docker container. In this mode, the Docker socket (<code>/var/run/docker.sock</code>) is mounted into the KITT container, allowing it to create and manage engine containers as siblings rather than nested containers. This avoids Docker-in-Docker complexity.</p>
<h2 id="remote-agent-architecture">Remote Agent Architecture<a class="headerlink" href="#remote-agent-architecture" title="Permanent link">&para;</a></h2>
<p>KITT supports deploying thin agents to remote GPU servers. The agent is a standalone Python package (<code>kitt-agent</code>) served directly from the KITT web server, ensuring version compatibility.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>KITT Server                              GPU Server (Agent)
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>+--------------------+                  +--------------------+
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>| Web UI / REST API  |  Register/HB    | kitt-agent daemon   |
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>|   /api/v1/agent/*  | &lt;=============&gt; |   heartbeat thread  |
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>|   agent_install.py |  Docker cmds    |   Docker orchestr.  |
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>|   (serves tarball) | ==============&gt; |   log streaming     |
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>+--------------------+                  +--------------------+
</code></pre></div>
<h3 id="agent-installation-flow">Agent installation flow<a class="headerlink" href="#agent-installation-flow" title="Permanent link">&para;</a></h3>
<ol>
<li>User runs <code>curl -sfL &lt;server&gt;/api/v1/agent/install.sh -H "Authorization: Bearer &lt;token&gt;" | bash</code></li>
<li>The script creates a venv, downloads the agent sdist from <code>/api/v1/agent/package</code>, and installs it</li>
<li><code>kitt-agent init</code> writes <code>~/.kitt/agent.yaml</code> with server URL, token, name, and port</li>
<li><code>kitt-agent start</code> registers with the server, starts the heartbeat thread, and listens for commands</li>
</ol>
<h3 id="agent-command-protocol">Agent command protocol<a class="headerlink" href="#agent-command-protocol" title="Permanent link">&para;</a></h3>
<p>The server sends JSON commands to the agent's <code>/api/commands</code> endpoint:</p>
<table>
<thead>
<tr>
<th>Command</th>
<th>Payload</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>run_container</code></td>
<td>image, port, volumes, env, health_url</td>
<td>Pull image, start container, stream logs</td>
</tr>
<tr>
<td><code>stop_container</code></td>
<td>command_id</td>
<td>Stop a running container</td>
</tr>
<tr>
<td><code>check_docker</code></td>
<td><em>(none)</em></td>
<td>Verify Docker is available</td>
</tr>
</tbody>
</table>
<p>The agent reports results back to the server at <code>/api/v1/agents/{name}/results</code>.</p>
<h3 id="standalone-agent-package">Standalone agent package<a class="headerlink" href="#standalone-agent-package" title="Permanent link">&para;</a></h3>
<p>The agent package lives in <code>agent-package/</code> at the repository root:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>agent-package/
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a> pyproject.toml          # Standalone package (kitt-agent)
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a> src/kitt_agent/
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>     cli.py              # Click CLI: init, start, status, stop
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>     config.py           # Pydantic config models
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>     daemon.py           # Flask mini-app receiving commands
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>     docker_ops.py       # Docker container management
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>     hardware.py         # Simplified hardware detection
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>     heartbeat.py        # Heartbeat thread
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>     log_streamer.py     # SSE log streaming
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>     registration.py     # Server registration
</code></pre></div>
<h2 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>src/kitt/
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a> cli/           # Click commands (run, engines, test, results, compare, web, fingerprint, stack, agent, monitoring)
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> engines/       # Inference engine plugins (base ABC, registry, vllm, tgi, llama_cpp, ollama)
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a> benchmarks/    # Benchmark plugins (base ABC, registry, performance/*, quality/*)
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a> config/        # Pydantic models + YAML loader
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a> hardware/      # System fingerprinting (GPU, CPU, RAM, storage, CUDA)
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a> runners/       # Suite/single test runners + checkpoint recovery
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a> collectors/    # GPU memory tracking, system metrics
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a> reporters/     # JSON, Markdown, comparison output
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a> git_ops/       # KARR legacy Git-backed storage
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a> monitoring/    # Monitoring stack config, generator, deployer
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a> stack/         # Composable Docker stack config + generator
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a> agent/         # Agent daemon, heartbeat, executor, log streamer
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a> security/      # TLS cert generation and config
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a> web/           # Flask dashboard + REST API + blueprints + Devon iframe
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a> utils/         # Compression, validation, versioning
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>agent-package/     # Standalone thin agent (installed on GPU servers)
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a> src/kitt_agent/ # Self-contained agent daemon
</code></pre></div>
<h3 id="key-design-decisions">Key Design Decisions<a class="headerlink" href="#key-design-decisions" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Dataclasses</strong> are used for result types and internal data structures.</li>
<li><strong>Pydantic v2</strong> is used for configuration validation (YAML configs are loaded and validated through Pydantic models).</li>
<li><strong>Click</strong> is the CLI framework; Rich provides tables, panels, and spinners for terminal output.</li>
<li><strong>Logging</strong> uses <code>logging.getLogger(__name__)</code> throughout all modules.</li>
<li><strong>Full type hints</strong> are required on all public methods.</li>
</ul>
<h2 id="web-dashboard">Web Dashboard<a class="headerlink" href="#web-dashboard" title="Permanent link">&para;</a></h2>
<p>The web UI is a Flask application (<code>web/app.py</code>) using TailwindCSS, HTMX, and Alpine.js. It registers page blueprints (Dashboard, Agents, Devon, Models, Campaigns, Quick Test, Results, Settings) and API v1 blueprints under <code>/api/v1/</code>.</p>
<h3 id="devon-tab">Devon Tab<a class="headerlink" href="#devon-tab" title="Permanent link">&para;</a></h3>
<p>When <code>DEVON_URL</code> is set, the Devon tab embeds the Devon web UI in an iframe for integrated model management. A <code>/api/v1/devon/status</code> endpoint checks connectivity. The tab's visibility is controlled via the Settings page and persisted in the <code>web_settings</code> SQLite table.</p>
<h3 id="settings-persistence">Settings Persistence<a class="headerlink" href="#settings-persistence" title="Permanent link">&para;</a></h3>
<p>UI preferences (such as Devon tab visibility) are stored in a <code>web_settings</code> key-value table managed by <code>SettingsService</code>. Settings are injected into all templates via a Flask context processor.</p>
<h2 id="relationship-to-devon">Relationship to DEVON<a class="headerlink" href="#relationship-to-devon" title="Permanent link">&para;</a></h2>
<p>KITT tests models; DEVON manages and stores them. The two projects share the same technical stack (Poetry, Click, Rich, Python 3.10+, plugin registry pattern). The KITT web dashboard embeds Devon's UI directly when <code>DEVON_URL</code> is configured. DEVON can also export model paths in a format KITT consumes:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>devon<span class="w"> </span><span class="nb">export</span><span class="w"> </span>--format<span class="w"> </span>kitt<span class="w"> </span>-o<span class="w"> </span>models.txt
</code></pre></div>
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../engine-lifecycle/">Engine Lifecycle</a> -- detailed container lifecycle and health checks</li>
<li><a href="../benchmark-system/">Benchmark System</a> -- how benchmarks are defined and executed</li>
<li><a href="../hardware-fingerprinting/">Hardware Fingerprinting</a> -- system identification for result organization</li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.sections", "navigation.top", "content.code.copy", "search.suggest", "search.highlight", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>