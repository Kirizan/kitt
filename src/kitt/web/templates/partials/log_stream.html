<div x-data="logStream('{{ source_id }}')" class="bg-gray-900 rounded-lg shadow overflow-hidden">
    <div class="flex items-center justify-between px-4 py-2 bg-gray-800">
        <span class="text-sm font-medium text-gray-300">Live Logs</span>
        <div class="flex items-center space-x-3">
            <span class="relative flex h-2 w-2" x-show="connected">
                <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
            </span>
            <span x-show="!connected" class="flex h-2 w-2">
                <span class="inline-flex rounded-full h-2 w-2 bg-red-500"></span>
            </span>
            <button @click="autoScroll = !autoScroll"
                    :class="autoScroll ? 'text-green-400' : 'text-gray-500'"
                    class="text-xs hover:text-white transition-colors">
                Auto-scroll
            </button>
            <button @click="clearLogs()"
                    class="text-xs text-gray-500 hover:text-white transition-colors">
                Clear
            </button>
        </div>
    </div>
    <div x-ref="logContainer" class="p-4 h-80 overflow-y-auto font-mono text-sm text-green-400 leading-relaxed">
        <template x-for="(line, index) in lines" :key="index">
            <div x-text="line" class="whitespace-pre-wrap"></div>
        </template>
        <div x-show="lines.length === 0" class="text-gray-500 italic">
            Waiting for log output...
        </div>
    </div>
</div>
