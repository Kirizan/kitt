<div class="bg-white dark:bg-gray-800 shadow rounded-lg p-4 hover:shadow-md transition-shadow">
    <div class="flex items-start justify-between">
        <div class="flex-1 min-w-0">
            <h3 class="text-sm font-semibold text-gray-900 dark:text-white truncate">
                {{ model.name or model.model_id }}
            </h3>
            {% if model.author %}
            <p class="text-xs text-gray-500 dark:text-gray-400 mt-0.5">{{ model.author }}</p>
            {% endif %}
        </div>
        {% if model.size %}
        <span class="ml-2 text-xs text-gray-400 dark:text-gray-500 whitespace-nowrap">{{ model.size }}</span>
        {% endif %}
    </div>

    {% if model.description %}
    <p class="mt-2 text-xs text-gray-600 dark:text-gray-400 line-clamp-2">{{ model.description }}</p>
    {% endif %}

    <div class="mt-3 flex flex-wrap gap-1">
        {% if model.format %}
        <span class="px-1.5 py-0.5 text-xs bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 rounded">
            {{ model.format }}
        </span>
        {% endif %}
        {% if model.quantization %}
        <span class="px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 rounded">
            {{ model.quantization }}
        </span>
        {% endif %}
        {% if model.license %}
        <span class="px-1.5 py-0.5 text-xs bg-gray-100 text-gray-600 dark:bg-gray-700 dark:text-gray-400 rounded">
            {{ model.license }}
        </span>
        {% endif %}
    </div>

    <div class="mt-3 flex items-center justify-between">
        {% if model.downloads is defined %}
        <span class="text-xs text-gray-400">{{ model.downloads }} downloads</span>
        {% else %}
        <span></span>
        {% endif %}

        <div class="flex space-x-2">
            {% if model.path %}
            <a href="{{ url_for('quicktest.form') }}?model={{ model.path }}"
               class="text-xs text-blue-600 dark:text-blue-400 hover:underline">Test</a>
            {% else %}
            <button hx-post="/api/v1/models/download"
                    hx-vals='{"model_id": "{{ model.model_id }}"}'
                    hx-swap="none"
                    class="text-xs text-green-600 dark:text-green-400 hover:underline">
                Download
            </button>
            {% endif %}
        </div>
    </div>
</div>
